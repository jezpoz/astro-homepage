---
import { client } from '../lib/sanity-client';
import { track, parameters } from '../lib/insights-client';

const query = '*[_type == "settings"][0]';
let settings = await client.fetch(query);

track({
  id: 'open-page',
  parameters: {
    path: parameters.path(),
    screenType: parameters.screenType(),
    referrer: parameters.referrer()
  }
});
---
<!DOCTYPE html>
<html lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8">
  <title>{settings.title}</title>
  <meta name="description" content={settings.description} >
  <meta name="keywords" content={settings.keywords.join(', ')}>
  <meta name="author" content="Jesper FÃ¸risdahl">
  <style>
    @-ms-viewport{
      width: device-width;
    }
  </style>
  <body class="bg-gray-900 text-slate-200">
    <slot></slot>
  </body>
</html>