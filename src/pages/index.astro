---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import { client, imageBuilder } from '../lib/sanity-client';
import PortableText from '../components/PortableText.astro';

const query = '*[_type == "profile" && name == "Jesper FÃ¸risdahl"][0] {name,bio,image}';
let data = await client.fetch(query);
---

<BaseLayout>
  <Navbar />
  <main class="max-w-[1600px] mx-auto">
    <div class="grid grid-cols-1 md:grid md:grid-cols-2 md:grid-auto-rows">
      <div class="p-8">
        <PortableText value={data.bio}/>
      </div>
      <picture class="rounded p-8 w-full order-1">
        <img class="rounded" src={imageBuilder.image(data.image).width(1200).height(900).url()} width="600" height="450" alt={data.image.alt}/>
        <figcaption>{data.image.caption}</figcaption>
      </picture>
    </div>
  </main>
</BaseLayout>
